<mat-toolbar class="topbar gap-8">
  <!-- Mobile Menu -->
  @if(!showToggle) {
  <button mat-icon-button (click)="toggleMobileNav.emit()" class="d-flex justify-content-center">
    <i class="iconify icon-20 d-flex" data-icon="solar:hamburger-menu-line-duotone"></i>
  </button>
  }

  <span class="flex-1-auto"></span>

  <!-- Profile Dropdown -->
  <button mat-icon-button extended [matMenuTriggerFor]="profilemenu" aria-label="Notifications"
    class="d-flex align-items-center justify-content-center profile-btn-dd">
    <img src="/assets/images/profile/user-1.jpg" class="rounded-circle object-cover icon-35 profile-dd" width="35" />
  </button>
  
  <mat-menu #profilemenu="matMenu" class="topbar-dd cardWithShadow">
    <!-- Mostrar info del usuario -->
    <div class="p-x-16 p-y-12" *ngIf="currentUser$ | async as user">
      <p class="m-0 f-w-600">{{ user.nombre }} {{ user.apellido }}</p>
      <p class="m-0 f-s-12 text-muted">{{ user.correo }}</p>
      <mat-divider class="m-y-8"></mat-divider>
    </div>

    <a [routerLink]="['/dashboard/view/my-profile']" class="text-decoration-none">
      <button mat-menu-item>
        <mat-icon class="d-flex align-items-center">
          <i data-icon="solar:shield-user-line-duotone" class="iconify icon-22"></i>
        </mat-icon>
        Mi Perfil
      </button>
    </a>
    
    <button mat-menu-item>
      <mat-icon class="d-flex align-items-center">
        <i data-icon="solar:settings-line-duotone" class="iconify icon-22"></i>
      </mat-icon>
      Configuración
    </button>

    <div class="p-x-12 m-t-12">
      <button (click)="logout()" mat-stroked-button class="w-100">
        <mat-icon>logout</mat-icon>
        Cerrar Sesión
      </button>
    </div>
  </mat-menu>
</mat-toolbar>
